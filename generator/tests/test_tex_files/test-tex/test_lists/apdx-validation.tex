% -*- TeX-master: "main"; fill-column: 72 -*-

\section{Validation of SBML documents}
\label{apdx-validation}

\subsection{Validation and consistency rules}
\label{validation-rules}

This section summarizes all the conditions that must (or in some cases,
at least \emph{should}) be true of an SBML Level~3 Version~1 model that
uses the \FooPackage. We use the same conventions as are used in the
SBML Level~3 Version~1 Core specification document. In particular, there
are different degrees of rule strictness. Formally, the differences are
expressed in the statement of a rule: either a rule states that a
condition \emph{must} be true, or a rule states that it \emph{should} be
true. Rules of the former kind are strict SBML validation rules---a
model encoded in SBML must conform to all of them in order to be
considered valid. Rules of the latter kind are consistency rules. To
help highlight these differences, we use the following three symbols
next to the rule numbers:

\begin{description}

\item[\hspace*{6.5pt}\vSymbol\vsp] A \vSymbolName indicates a
\emph{requirement} for SBML conformance. If a model does not follow this
rule, it does not conform to the \FooPackage specification. (Mnemonic
intention behind the choice of symbol: ``This must be checked.'')

\item[\hspace*{6.5pt}\cSymbol\csp] A \cSymbolName indicates a
\emph{recommendation} for model consistency. If a model does not follow
this rule, it is not considered strictly invalid as far as the
\FooPackage specification is concerned; however, it indicates that the
model contains a physical or conceptual inconsistency. (Mnemonic
intention behind the choice of symbol: ``This is a cause for warning.'')

\item[\hspace*{6.5pt}\mSymbol\msp] A \mSymbolName indicates a strong
recommendation for good modeling practice. This rule is not strictly a
matter of SBML encoding, but the recommendation comes from logical
reasoning. As in the previous case, if a model does not follow this
rule, it is not strictly considered an invalid SBML encoding. (Mnemonic
intention behind the choice of symbol: ``You're a star if you heed
this.'')

\end{description}

The validation rules listed in the following subsections are all stated
or implied in the rest of this specification document. They are
enumerated here for convenience. Unless explicitly stated, all
validation rules concern objects and attributes specifically defined in
the \FooPackage package.

For \notice convenience and brevity, we use the shorthand
``\token{foo:\-x}'' to stand for an attribute or element name \token{x}
in the namespace for the \FooPackage package, using the namespace prefix
\token{foo}. In reality, the prefix string may be different from the
literal ``\token{foo}'' used here (and indeed, it can be any valid XML
namespace prefix that the modeler or software chooses). We use
``\token{foo:\-x}'' because it is shorter than to write a full
explanation everywhere we refer to an attribute or element in the
\FooPackage namespace.

\subsubsection*{General rules about this package}

\validRule{foo-10101}{To conform to the \FooPackage specification for
SBML Level~3 Version~1, an SBML document must declare the use of the
following XML Namespace:
\uri{http://www.sbml.org/sbml/level3/version1/foo/version1}. (Reference:
SBML Level~3 Package specification for Foo, Version~1
\sec{xml-namespace}.)}

\validRule{foo-10102}{Wherever they appear in an SBML document, elements
and attributes from the \FooPackage must be declared either implicitly
or explicitly to be in the XML namespace
\uri{http://www.sbml.org/sbml/level3/version1/foo/version1}. (Reference:
SBML Level~3 Package specification for Foo, Version~1
\sec{xml-namespace}.)}

\subsubsection*{General rules about identifiers}

\validRule{foo-10301}{(Extends validation rule \#10301 in the
\sbmlthreecore specification. TO DO list scope of ids) (Reference: SBML
Level~3 Package specification for Foo, Version~1
\sec{primitive-types}.)}

\validRule{foo-10302}{The value of a \token{foo:\-id} must conform to
the syntax of the \class{SBML} data type \primtype{SId} (Reference: SBML
Level~3 Package specification for Foo, Version~1
\sec{primitive-types}.)}

\TODO{ANY LIST OF ELEMENTS THAT HAVE ATTRIBUTES}

\subsubsection*{Rules for the extended \class{SBML} class}

\validRule{foo-20101}{In all SBML documents using the \FooPackage, the
\class{SBML} object must have the \token{foo:\-required} attribute.
(Reference: SBML Level~3 Version~1 Core, Section~4.1.2.)}

\validRule{foo-20102}{The value of attribute \token{foo:\-required} on
the \class{SBML} object must be of data type \primtype{boolean}.
(Reference: SBML Level~3 Version~1 Core, Section~4.1.2.)}

\validRule{foo-20103}{The value of attribute \token{foo:\-required} on
the \class{SBML} object must be set to \val{true}. (Reference: SBML
Level~3 Package specification for Foo, Version~1 \sec{xml-namespace}.)}

\subsubsection*{Rules for extended \class{Model} object}

\validRule{foo-20201}{A \Model object may contain one and only one
instance of the \ListOfApples element. No other elements from the SBML
Level 3 Foo namespaces are permitted on a \Model object. (Reference:
SBML Level~3 Package specification for Foo, Version~1,
\sec{model-class}.)}

\validRule{foo-20202}{The \ListOfApples subobject on a \Model object is
optional, but if present, this container object must not be empty.The
\ListOfApples must contain at least two instances of the \Apple object.
(Reference: SBML Level~3 Specification for Foo Version~1,
\sec{model-class}.)}

\validRule{foo-20203}{Apart from the general notes and annotations
subobjects permitted on all SBML objects, a ListOfApples container
object may only contain \Apple objects. (Reference: SBML Level~3 Package
specification for Foo, Version~1, \sec{model-class}.)}

\validRule{foo-20204}{A \ListOfApples object may have the optional SBML
Level~3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespaces are permitted on a
\ListOfApples object. (Reference: SBML Level~3 Package specification for
Foo, Version~1, \sec{model-class}.)}


\subsubsection*{Rules for extended \class{Compartment} object}

\validRule{foo-20301}{A \Compartment object may contain one and only one
instance of the \ListOfPears element. No other elements from the SBML
Level 3 Foo namespaces are permitted on a \Compartment object.
(Reference: SBML Level~3 Package specification for Foo, Version~1,
\sec{compartment-class}.)}

\validRule{foo-20302}{Apart from the general notes and annotations
subobjects permitted on all SBML objects, a ListOfPears container object
may only contain \Pear objects. (Reference: SBML Level~3 Package
specification for Foo, Version~1, \sec{compartment-class}.)}

\validRule{foo-20303}{A \ListOfPears object may have the optional SBML
Level~3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespaces are permitted on a
\ListOfPears object. (Reference: SBML Level~3 Package specification for
Foo, Version~1, \sec{compartment-class}.)}


\subsubsection*{Rules for extended \class{Species} object}

\validRule{foo-20401}{A \Species object may contain one and only one
instance of the \ListOfBananas element. No other elements from the SBML
Level 3 Foo namespaces are permitted on a \Species object. (Reference:
SBML Level~3 Package specification for Foo, Version~1,
\sec{species-class}.)}

\validRule{foo-20402}{The \ListOfBananas subobject on a \Species object
is optional, but if present, this container object must not be empty.
(Reference: SBML Level~3 Specification for Foo Version~1,
\sec{species-class}.)}

\validRule{foo-20403}{Apart from the general notes and annotations
subobjects permitted on all SBML objects, a ListOfBananas container
object may only contain \Banana objects. (Reference: SBML Level~3
Package specification for Foo, Version~1, \sec{species-class}.)}

\validRule{foo-20404}{A \ListOfBananas object may have the optional SBML
Level~3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespaces are permitted on a
\ListOfBananas object. (Reference: SBML Level~3 Package specification
for Foo, Version~1, \sec{species-class}.)}


\subsubsection*{Rules for \class{Apple} object}

\validRule{foo-20501}{An \Apple object may have the optional SBML
Level~3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespaces are permitted on an
\Apple. (Reference: SBML Level~3 Version~1 Core, Section~3.2.)}

\validRule{foo-20502}{An \Apple object may have the optional SBML
Level~3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core namespaces are permitted on an \Apple.
(Reference: SBML Level~3 Version~1 Core, Section~3.2.)}


\subsubsection*{Rules for \class{Pear} object}

\validRule{foo-20601}{A \Pear object may have the optional SBML Level~3
Core attributes \token{metaid} and \token{sboTerm}. No other attributes
from the SBML Level 3 Core namespaces are permitted on a \Pear.
(Reference: SBML Level~3 Version~1 Core, Section~3.2.)}

\validRule{foo-20602}{A \Pear object may have the optional SBML Level~3
Core subobjects for notes and annotations. No other elements from the
SBML Level 3 Core namespaces are permitted on a \Pear. (Reference: SBML
Level~3 Version~1 Core, Section~3.2.)}


\subsubsection*{Rules for \class{Bowl} object}

\validRule{foo-20701}{A \Bowl object may have the optional SBML Level~3
Core attributes \token{metaid} and \token{sboTerm}. No other attributes
from the SBML Level 3 Core namespaces are permitted on a \Bowl.
(Reference: SBML Level~3 Version~1 Core, Section~3.2.)}

\validRule{foo-20702}{A \Bowl object may have the optional SBML Level~3
Core subobjects for notes and annotations. No other elements from the
SBML Level 3 Core namespaces are permitted on a \Bowl. (Reference: SBML
Level~3 Version~1 Core, Section~3.2.)}

\validRule{foo-20703}{A \Bowl object may contain one and only one
instance of the \ListOfPears element. No other elements from the SBML
Level 3 Foo namespaces are permitted on a \Bowl object. (Reference: SBML
Level~3 Package specification for Foo, Version~1, \sec{bowl-class}.)}

\validRule{foo-20704}{Apart from the general notes and annotations
subobjects permitted on all SBML objects, a \ListOfPears container
object may only contain \Pear objects. (Reference: SBML Level~3 Package
specification for Foo, Version~1, \sec{bowl-class}.)}

\validRule{foo-20705}{A \ListOfPears object may have the optional SBML
Level~3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespaces are permitted on a
\ListOfPears object. (Reference: SBML Level~3 Package specification for
Foo, Version~1, \sec{bowl-class}.)}


\subsubsection*{Rules for \class{Plate} object}

\validRule{foo-20801}{A \Plate object may have the optional SBML Level~3
Core attributes \token{metaid} and \token{sboTerm}. No other attributes
from the SBML Level 3 Core namespaces are permitted on a \Plate.
(Reference: SBML Level~3 Version~1 Core, Section~3.2.)}

\validRule{foo-20802}{A \Plate object may have the optional SBML Level~3
Core subobjects for notes and annotations. No other elements from the
SBML Level 3 Core namespaces are permitted on a \Plate. (Reference: SBML
Level~3 Version~1 Core, Section~3.2.)}

\validRule{foo-20803}{A \Plate object must contain one and only one
instance of the \ListOfBananas element, and may contain one and only one
instance of the \ListOfApples element. No other elements from the SBML
Level 3 Foo namespaces are permitted on a \Plate object. (Reference:
SBML Level~3 Package specification for Foo, Version~1,
\sec{plate-class}.)}

\validRule{foo-20804}{The \ListOfApples subobject on a \Plate object is
optional, but if present, this container object must not be empty.The
\ListOfApples must contain at least two instances of the \apple object.
(Reference: SBML Level~3 Package specification for Foo, Version~1,
\sec{plate-class}.)}

\validRule{foo-20805}{Apart from the general notes and annotations
subobjects permitted on all SBML objects, a \ListOfApples container
object may only contain \Apple objects. (Reference: SBML Level~3 Package
specification for Foo, Version~1, \sec{plate-class}.)}

\validRule{foo-20806}{The \ListOfBananas subobject on a \Plate object
must not be empty. (Reference: SBML Level~3 Package specification for
Foo, Version~1, \sec{plate-class}.)}

\validRule{foo-20807}{Apart from the general notes and annotations
subobjects permitted on all SBML objects, a \ListOfBananas container
object may only contain \Banana objects. (Reference: SBML Level~3
Package specification for Foo, Version~1, \sec{plate-class}.)}

\validRule{foo-20808}{A \ListOfApples object may have the optional SBML
Level~3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespaces are permitted on a
\ListOfApples object. (Reference: SBML Level~3 Package specification for
Foo, Version~1, \sec{plate-class}.)}

\validRule{foo-20809}{A \ListOfBananas object may have the optional SBML
Level~3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespaces are permitted on a
\ListOfBananas object. (Reference: SBML Level~3 Package specification
for Foo, Version~1, \sec{plate-class}.)}


\subsubsection*{Rules for \class{Banana} object}

\validRule{foo-20901}{A \Banana object may have the optional SBML
Level~3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespaces are permitted on a
\Banana. (Reference: SBML Level~3 Version~1 Core, Section~3.2.)}

\validRule{foo-20902}{A \Banana object may have the optional SBML
Level~3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core namespaces are permitted on a \Banana.
(Reference: SBML Level~3 Version~1 Core, Section~3.2.)}


